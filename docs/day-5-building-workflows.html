<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Day 5 - building workflows | DLL 2021, R section</title>
  <meta name="description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Day 5 - building workflows | DLL 2021, R section" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  <meta name="github-repo" content="darachm/dll-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Day 5 - building workflows | DLL 2021, R section" />
  
  <meta name="twitter:description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  

<meta name="author" content="darachm" />
<meta name="author" content="etc?" />
<meta name="author" content="etc?" />
<meta name="author" content="etc?" />


<meta name="date" content="2021-06-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="day-4-tidyverse-and-plots-and-such.html"/>
<link rel="next" href="appendix.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DLL 2021 R workshops</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Workshop introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-intent"><i class="fa fa-check"></i><b>1.1</b> Course intent</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#structure-and-resources"><i class="fa fa-check"></i><b>1.2</b> Structure and resources</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#this-syllabus-and-videos"><i class="fa fa-check"></i><b>1.2.1</b> This syllabus and videos</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#slack-channel"><i class="fa fa-check"></i><b>1.2.2</b> Slack channel</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#expectations"><i class="fa fa-check"></i><b>1.3</b> Expectations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Day 3 - intoduction to R</a><ul>
<li class="chapter" data-level="2.1" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#rstudio-and-basics"><i class="fa fa-check"></i><b>2.1</b> Rstudio, and basics</a></li>
<li class="chapter" data-level="2.2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#data-exploration-pipelines"><i class="fa fa-check"></i><b>2.2</b> Data exploration pipelines</a></li>
<li class="chapter" data-level="2.3" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#getting-started-in-r"><i class="fa fa-check"></i><b>2.3</b> Getting started in R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#getting-help-in-r"><i class="fa fa-check"></i><b>2.3.1</b> Getting Help in R</a></li>
<li class="chapter" data-level="2.3.2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#variables"><i class="fa fa-check"></i><b>2.3.2</b> Variables</a></li>
<li class="chapter" data-level="2.3.3" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#working-with-vectors"><i class="fa fa-check"></i><b>2.3.3</b> Working with Vectors</a></li>
<li class="chapter" data-level="2.3.4" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#indexing-and-subsetting"><i class="fa fa-check"></i><b>2.3.4</b> Indexing and Subsetting</a></li>
<li class="chapter" data-level="2.3.5" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#using-logicals"><i class="fa fa-check"></i><b>2.3.5</b> Using Logicals</a></li>
<li class="chapter" data-level="2.3.6" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#working-with-dataframes"><i class="fa fa-check"></i><b>2.3.6</b> Working with Dataframes</a></li>
<li class="chapter" data-level="2.3.7" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#type-coercion-and-factors"><i class="fa fa-check"></i><b>2.3.7</b> Type Coercion and Factors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html"><i class="fa fa-check"></i><b>3</b> Day 4 - tidyverse and plots and such</a><ul>
<li class="chapter" data-level="3.1" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#reading-files"><i class="fa fa-check"></i><b>3.1</b> Reading files</a></li>
<li class="chapter" data-level="3.2" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#making-plots-with-ggplot2"><i class="fa fa-check"></i><b>3.2</b> Making plots with ggplot2</a><ul>
<li class="chapter" data-level="3.2.1" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#getting-started-with-a-ggplot"><i class="fa fa-check"></i><b>3.2.1</b> Getting started with a ggplot</a></li>
<li class="chapter" data-level="3.2.2" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#plotting-numerical-vs.categorical-data"><i class="fa fa-check"></i><b>3.2.2</b> Plotting Numerical vs.¬†Categorical Data</a></li>
<li class="chapter" data-level="3.2.3" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#plotting-error-bars"><i class="fa fa-check"></i><b>3.2.3</b> Plotting Error Bars</a></li>
<li class="chapter" data-level="3.2.4" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#plotting-trends-in-big-data"><i class="fa fa-check"></i><b>3.2.4</b> Plotting Trends in Big Data</a></li>
<li class="chapter" data-level="3.2.5" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#saving-your-figures"><i class="fa fa-check"></i><b>3.2.5</b> Saving Your Figures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html"><i class="fa fa-check"></i><b>4</b> Day 5 - building workflows</a><ul>
<li class="chapter" data-level="4.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#using-code-many-times---loops"><i class="fa fa-check"></i><b>4.1</b> Using code many times - loops</a></li>
<li class="chapter" data-level="4.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#writing-reusable-code"><i class="fa fa-check"></i><b>4.2</b> Writing (re)usable code</a><ul>
<li class="chapter" data-level="4.2.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#style-guides-can-be-inspiring"><i class="fa fa-check"></i><b>4.2.1</b> Style guides can be inspiring</a></li>
<li class="chapter" data-level="4.2.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#what-style-should-you-use"><i class="fa fa-check"></i><b>4.2.2</b> What style should you use?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#writing-modular-code"><i class="fa fa-check"></i><b>4.3</b> Writing modular code</a><ul>
<li class="chapter" data-level="4.3.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#calculating-standard-error"><i class="fa fa-check"></i><b>4.3.1</b> Calculating standard error</a></li>
<li class="chapter" data-level="4.3.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#more-complex-modules"><i class="fa fa-check"></i><b>4.3.2</b> More complex modules</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#packages-are-chunks-of-code-and-sometimes-data"><i class="fa fa-check"></i><b>4.4</b> Packages are chunks of code (and sometimes data)</a><ul>
<li class="chapter" data-level="4.4.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#first-stop---cran"><i class="fa fa-check"></i><b>4.4.1</b> first stop - CRAN</a></li>
<li class="chapter" data-level="4.4.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#how-does-this-package-work"><i class="fa fa-check"></i><b>4.4.2</b> How does this package work?</a></li>
<li class="chapter" data-level="4.4.3" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#next-stop---github"><i class="fa fa-check"></i><b>4.4.3</b> next stop - github</a></li>
<li class="chapter" data-level="4.4.4" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#finally---bioconductor"><i class="fa fa-check"></i><b>4.4.4</b> finally - Bioconductor üò¨</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#finding-more-help-and-documentation"><i class="fa fa-check"></i><b>4.5</b> Finding more help and documentation</a></li>
<li class="chapter" data-level="4.6" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#reproducibility-and-sharing"><i class="fa fa-check"></i><b>4.6</b> Reproducibility and sharing</a></li>
<li class="chapter" data-level="4.7" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#reproducibility-and-sharing-1"><i class="fa fa-check"></i><b>4.7</b> Reproducibility and sharing</a></li>
<li class="chapter" data-level="4.8" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#finding-more-help-and-documentation-1"><i class="fa fa-check"></i><b>4.8</b> Finding more help and documentation</a></li>
<li class="chapter" data-level="4.9" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#reproducibility-and-sharing-2"><i class="fa fa-check"></i><b>4.9</b> Reproducibility and sharing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>5</b> Appendix</a><ul>
<li class="chapter" data-level="5.1" data-path="appendix.html"><a href="appendix.html#additional-tutorials"><i class="fa fa-check"></i><b>5.1</b> Additional tutorials</a><ul>
<li class="chapter" data-level="5.1.1" data-path="appendix.html"><a href="appendix.html#sub-sub-section"><i class="fa fa-check"></i><b>5.1.1</b> sub sub section</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="appendix.html"><a href="appendix.html#more-challenges"><i class="fa fa-check"></i><b>5.2</b> More challenges</a></li>
<li class="chapter" data-level="5.3" data-path="appendix.html"><a href="appendix.html#figures-ideas"><i class="fa fa-check"></i><b>5.3</b> Figures ideas</a></li>
<li class="chapter" data-level="5.4" data-path="appendix.html"><a href="appendix.html#rmd-example-of-code-chunk"><i class="fa fa-check"></i><b>5.4</b> Rmd example of code chunk</a></li>
<li class="chapter" data-level="5.5" data-path="appendix.html"><a href="appendix.html#more-example-rmds"><i class="fa fa-check"></i><b>5.5</b> More example Rmds</a></li>
<li class="chapter" data-level="5.6" data-path="appendix.html"><a href="appendix.html#how-to-edit-this-document"><i class="fa fa-check"></i><b>5.6</b> How to edit this document</a><ul>
<li class="chapter" data-level="5.6.1" data-path="appendix.html"><a href="appendix.html#setup"><i class="fa fa-check"></i><b>5.6.1</b> Setup</a></li>
<li class="chapter" data-level="5.6.2" data-path="appendix.html"><a href="appendix.html#editwork-on-it"><i class="fa fa-check"></i><b>5.6.2</b> Edit/work on it</a></li>
<li class="chapter" data-level="5.6.3" data-path="appendix.html"><a href="appendix.html#publishing-onto-the-main-page-so-its-hosted-at-the-url"><i class="fa fa-check"></i><b>5.6.3</b> Publishing onto the main page, so it‚Äôs hosted at the URL</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="appendix.html"><a href="appendix.html#more-links"><i class="fa fa-check"></i><b>5.7</b> More links</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DLL 2021, R section</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="day-5---building-workflows" class="section level1">
<h1><span class="header-section-number">4</span> Day 5 - building workflows</h1>
<p>We‚Äôre gonna build workflows</p>
<p>Firstly, let‚Äôs review the last two days.
What have we done and how do we do it again?</p>
<!-- exercise -->
<p>Crack open your code - can you use it again?
Can you adapt it to modify your question, feed in new data,
and modify the scientifically-important bits easily?</p>

<div id="using-code-many-times---loops" class="section level2">
<h2><span class="header-section-number">4.1</span> Using code many times - loops</h2>
<p>Doing lots of stuff - loops (Darach)</p>
<p>show list.files() - challenge is to analyze a bunch of ‚Ä¶.. ? protein seqs?</p>
<p>could evaluate the claim that four basic amino acids in a row is unusual for SARS2 (ever seen a NLS?)</p>
<p>Loops
How to think about a for loop</p>
<p>Specifically in context of processing multiple files, so list.files() ?</p>
<p>Students know that other control structures exist (do, while), and that they‚Äôre controlled by boolean logic</p>
<p>Apply is a thing</p>
<p>Scholars will be familiar with that folks have strong opinions about using apply instead of for loops</p>
<p>Scholars will understand that getting the code done is the most important thing, but that good use of apply can be something to develop later to make code run faster, cleaner</p>
<p>Scholars will be able to read what an example of apply or s/lapply is doing, so that they can read examples online</p>
<p>Scholars will have heard the term ‚Äúlambda function‚Äù ?</p>
<p>Scholars will understand that functions can be one-off (ie lambda, function(x){} ), and that‚Äôs okay</p>

</div>
<div id="writing-reusable-code" class="section level2">
<h2><span class="header-section-number">4.2</span> Writing (re)usable code</h2>
<!-- exercise -->
<p>Crack open your code - can you use it again?
Can you adapt it to modify your question, feed in new data,
and modify the scientifically-important bits easily?</p>
<p>Let‚Äôs look at two chunks of code from
<a href="https://github.com/sashaflevy/PPiSeq">a paper</a> (lightly edited).
The experiment is counting barcoded lineages of yeast cells to estimate
‚ÄúPPIs‚Äù (protein-protein interactions)<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.
here‚Äôs an example of one style of writing R script:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1"><span class="co"># filter out bad barcode lineages ( &lt;= 2 time points counts &gt; 0, or maximum of each time point &lt;= 5 or total counts of a lineage &lt; 10)</span></a>
<a class="sourceLine" id="cb151-2" data-line-number="2">bad_index =<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, <span class="kw">nrow</span>(DBC_known_counts))</a>
<a class="sourceLine" id="cb151-3" data-line-number="3"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(bad_index)){</a>
<a class="sourceLine" id="cb151-4" data-line-number="4">        counts =<span class="st"> </span><span class="kw">as.numeric</span>(DBC_known_counts[i, <span class="dv">4</span><span class="op">:</span><span class="dv">8</span>])</a>
<a class="sourceLine" id="cb151-5" data-line-number="5">        <span class="cf">if</span> (<span class="kw">length</span>(<span class="kw">which</span>(counts <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>)) <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span><span class="kw">max</span>(counts) <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span> <span class="op">|</span><span class="st"> </span><span class="kw">sum</span>(counts) <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>){</a>
<a class="sourceLine" id="cb151-6" data-line-number="6">                bad_index[i] =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb151-7" data-line-number="7">        }</a>
<a class="sourceLine" id="cb151-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb151-9" data-line-number="9"><span class="kw">length</span>(<span class="kw">which</span>(bad_index <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)) <span class="co"># 1447775</span></a></code></pre></div>
<!-- exercise -->
<ul>
<li>What is going on here?</li>
<li>How do you feed in new data?</li>
<li>How do you run this multiple times?</li>
<li>How do you change the logic?</li>
</ul>
<p>Here‚Äôs another example from the same author:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1">H202_Output &lt;-<span class="st"> </span><span class="kw">PPI_calling_sigmoid</span>(</a>
<a class="sourceLine" id="cb152-2" data-line-number="2">    <span class="dt">PPI_multiple=</span><span class="kw">dataFrameReader_T</span>(<span class="st">&quot;/Volumes/zmliu_02/PPiseq_03/H2O2/counts/PPI_multiple_p.values.csv&quot;</span>),</a>
<a class="sourceLine" id="cb152-3" data-line-number="3">    <span class="dt">specific_PPV=</span><span class="kw">c</span>(<span class="kw">seq</span>(<span class="fl">0.5</span>,<span class="fl">0.58</span>,<span class="dt">by=</span><span class="fl">0.02</span>),<span class="kw">seq</span>(<span class="fl">0.6</span>,<span class="fl">0.8</span>,<span class="dt">by=</span><span class="fl">0.01</span>),<span class="kw">seq</span>(<span class="fl">0.82</span>,<span class="fl">0.9</span>,<span class="dt">by=</span><span class="fl">0.02</span>)),</a>
<a class="sourceLine" id="cb152-4" data-line-number="4">    <span class="dt">Fitness=</span><span class="kw">fitness</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.01</span>),</a>
<a class="sourceLine" id="cb152-5" data-line-number="5">    <span class="dt">p_value=</span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">4</span>,<span class="dv">0</span>,<span class="fl">0.1</span>),</a>
<a class="sourceLine" id="cb152-6" data-line-number="6">    <span class="dt">Neg_number_PPI=</span><span class="fl">6e4</span>,</a>
<a class="sourceLine" id="cb152-7" data-line-number="7">    <span class="dt">Neg_ref_number=</span><span class="dv">50</span>, </a>
<a class="sourceLine" id="cb152-8" data-line-number="8">    <span class="dt">p_threshold=</span><span class="op">-</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb152-9" data-line-number="9">    <span class="dt">p_loc=</span><span class="dv">6</span>, </a>
<a class="sourceLine" id="cb152-10" data-line-number="10">)</a></code></pre></div>
<!-- exercise -->
<p>Same questions.</p>
<div id="style-guides-can-be-inspiring" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Style guides can be inspiring</h3>
<ul>
<li><a href="https://style.tidyverse.org/">tidyverse style guide</a></li>
<li><a href="https://google.github.io/styleguide/Rguide.html">google-specific changes</a></li>
<li><a href="https://jef.works/R-style-guide/">Jean Fan‚Äôs</a></li>
<li>search for ‚ÄúR style guide‚Äù</li>
</ul>
</div>
<div id="what-style-should-you-use" class="section level3">
<h3><span class="header-section-number">4.2.2</span> What style should you use?</h3>
<p>Be inconsistently consistent!
Balance for yourself:</p>
<ul>
<li>How easy is it to write?</li>
<li>How easy is it for you to read?</li>
<li>How easy is it for others to read?</li>
<li>How similar is it to what everyone else is doing (a very good thing)?</li>
</ul>
<p>But most importantly, use what folks around you are using.
Be lazy, imitate others.</p>
<!-- exercise -->
<ul>
<li>How would you describe your code writing style?</li>
<li>How do you name things?</li>
<li>How good are your comments?</li>
<li>What elements would you like to incorporate?</li>
</ul>

</div>
</div>
<div id="writing-modular-code" class="section level2">
<h2><span class="header-section-number">4.3</span> Writing modular code</h2>
<p>What is modularity of code?</p>
<p>Why?</p>
<p>think more clearly than ‚Äúhardcoding‚Äù stuff</p>
<p>change things more easily without forgetting everything</p>
<p>lets you operate at a higher level, by tweaking parameters in one place</p>
<!-- Exercise -->
<div id="calculating-standard-error" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Calculating standard error</h3>
<p>Let‚Äôs calculate the standard error of a sample of values:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1">values &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb153-2" data-line-number="2"><span class="kw">stderr</span>(values)</a></code></pre></div>
<pre><code>## Error in stderr(values): unused argument (values)</code></pre>
<p>Er ‚Ä¶ what? What is <code>stderr</code> doing?</p>
<p><code>?stderr</code></p>
<p>Write out the maths for the standard error of the mean</p>
<p>calcuate it</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1"><span class="kw">sd</span>(values)<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">length</span>(values)<span class="op">-</span><span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] 0.4727122</code></pre>
<p>write a function that does it</p>
<p>what do we save it as?</p>
<p>test it</p>
</div>
<div id="more-complex-modules" class="section level3">
<h3><span class="header-section-number">4.3.2</span> More complex modules</h3>
<p>More examples/exercise</p>
<p>show a simulation of something‚Ä¶. genetic drift of a virus replicating?</p>
<p>lineage G1312F</p>
<p>exercise - wrap the entire analysis as a function</p>
<p>talk about ease of calling</p>
<p>gotcha about print() the plots</p>
<p>exercise - make a parameter and argument</p>
<p>ease of tweaking this</p>
<p>exercise - break into subfunctions, generate and plot</p>
<p>ease of changing models</p>

</div>
</div>
<div id="packages-are-chunks-of-code-and-sometimes-data" class="section level2">
<h2><span class="header-section-number">4.4</span> Packages are chunks of code (and sometimes data)</h2>
<p>Let‚Äôs take a look at your code from the last few days. How would you share this with the other people in the course?</p>
<p>R, like other languages, is built on a package system - if you wrap up your code in particular expected ways and put it in particular expected places, it is very easy for others to get and use your code</p>
<p>side note link for interested students, easy of making pakcages (for advanced advanced)</p>
<div id="first-stop---cran" class="section level3">
<h3><span class="header-section-number">4.4.1</span> first stop - CRAN</h3>
<p><a href="">CRAN</a></p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;stringdist&quot;</span>)</a></code></pre></div>
<p>exercise - get the stringdist library, use it</p>
<p>exercise - get a new viz layer, use it</p>
</div>
<div id="how-does-this-package-work" class="section level3">
<h3><span class="header-section-number">4.4.2</span> How does this package work?</h3>
<p>?</p>
<p>??</p>
<p>etc</p>
</div>
<div id="next-stop---github" class="section level3">
<h3><span class="header-section-number">4.4.3</span> next stop - github</h3>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;devtools&quot;</span>)</a></code></pre></div>
<p>or <code>remotes</code>?</p>
<p>exercise - pull a package off github‚Ä¶ ? maybe some sort of viz again?</p>
<p>Exercise - install a package from github and learn how to use it</p>
<ul>
<li><a href="https://github.com/ewenme/ghibli">Ghibli color palette</a></li>
<li><a href="https://github.com/rossdrucker/sportyR">Sports field plotting</a></li>
<li><a href="https://github.com/wilkelab/ggridges">Ridgeplots in ggplot2</a></li>
</ul>
<!-- remotes::install_github("wilkelab/ggridges" -->
<p>problems with this - security, eh</p>
</div>
<div id="finally---bioconductor" class="section level3">
<h3><span class="header-section-number">4.4.4</span> finally - Bioconductor üò¨</h3>
<p><a href="">How to install Bioconductor</a></p>
<p>Scholars will know how to install Bioconductor package from CRAN</p>
<p>Scholars will know how to find and install packages from Bioconductor</p>
<p>explore the namespace for a package, ie ?packagename:: and TAB or ?packagename::</p>
<p>how to print out all the packages you have loaded</p>
</div>
</div>
<div id="finding-more-help-and-documentation" class="section level2">
<h2><span class="header-section-number">4.5</span> Finding more help and documentation</h2>
<p>Need a problem</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1">?geom_line</a></code></pre></div>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1">?stringdist</a></code></pre></div>
<p>Objective X.X: Scholars will know how to get official docs ( ? ) and how to skim/read these</p>
<p>Objective X.X: Scholars will see how easy it is to use a search engine to try and find other answers</p>
<p>Objective X.X: Scholars will understand the intention of the Slack being a learning community, or something (set expectations about this)</p>
<p>Source up problems from the class?</p>
<p>Demo a weird plot idea, search for how to do it on stack overflow?</p>
<p>Maybe how to change the color of facet labels in a ggplot facet graph, that‚Äôs a bit tricky and demonstrates why base R is important‚Ä¶</p>
</div>
<div id="reproducibility-and-sharing" class="section level2">
<h2><span class="header-section-number">4.6</span> Reproducibility and sharing</h2>
<p>think about this</p>
<p>think about the next person coming along, or yourself in 3 months</p>
<p>links on syllabus for more info</p>
<p>all sorts of automated stuff you can do</p>

</div>
<div id="reproducibility-and-sharing-1" class="section level2">
<h2><span class="header-section-number">4.7</span> Reproducibility and sharing</h2>
<p>what are these concepts</p>
<p>why the hell we want others to use our code?
Well I‚Äôll tell you why - the general intellect</p>
<p>think about this</p>
<p>think about the next person coming along, or yourself in 3 months</p>
<p>links on syllabus for more info</p>
<p>all sorts of automated stuff you can do</p>

</div>
<div id="finding-more-help-and-documentation-1" class="section level2">
<h2><span class="header-section-number">4.8</span> Finding more help and documentation</h2>
<p>Need a problem</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1">?geom_line</a></code></pre></div>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1">?stringdist</a></code></pre></div>
<p>Objective X.X: Scholars will know how to get official docs ( ? ) and how to skim/read these</p>
<p>Objective X.X: Scholars will see how easy it is to use a search engine to try and find other answers</p>
<p>Objective X.X: Scholars will understand the intention of the Slack being a learning community, or something (set expectations about this)</p>
<p>Source up problems from the class?</p>
<p>Demo a weird plot idea, search for how to do it on stack overflow?</p>
<p>Maybe how to change the color of facet labels in a ggplot facet graph, that‚Äôs a bit tricky and demonstrates why base R is important‚Ä¶</p>
</div>
<div id="reproducibility-and-sharing-2" class="section level2">
<h2><span class="header-section-number">4.9</span> Reproducibility and sharing</h2>
<p>think about this</p>
<p>think about the next person coming along, or yourself in 3 months</p>
<p>links on syllabus for more info</p>
<p>all sorts of automated stuff you can do</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Ask Darach if you want details, or
<a href="doi.org/10.7554/eLife.62365">read the paper</a>.<a href="day-5-building-workflows.html#fnref1" class="footnote-back">‚Ü©</a></p></li>
</ol>
</div>
<p style="margin-top:10em;text-align:center;font-size:small;">
    <a href="https://github.com/darachm/dll-r/blob/main/LICENSE.md">
        Licensed Creative Commons Attribution-NonCommercial-ShareAlike 4.0
    </a>
</p>
<p style="text-align:center;font-size:small;">
    <a href="https://github.com/rstudio/bookdown" target="blank">
        Website typeset with bookdown
    </a>
</p>
            </section>

          </div>
        </div>
      </div>
<a href="day-4-tidyverse-and-plots-and-such.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/darachm/dll-r/edit/main/500-day5-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DLL 2021 R syllabus site.html"],
"toc": {
"collapse": "subsection"
},
"highlight": "zenburn"
});
});
</script>

</body>

</html>
